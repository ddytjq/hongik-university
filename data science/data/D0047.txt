ID=D0047
URL=http://www.freejavahelp.com/articles/servlet.html
SIZE=20720
DATE=16/07/02
TIME=14:35:47
DATASET=Java
HTML=
<html>
<head>
<META name="description" content="Want to learn Java? Already know Java but
need some help? Come to www.FreeJavaHelp.com! We offer in depth but simple to
understand tutorials, quick and easy forums, applications WITH source code for
you to study, and much more!">
<META name="keywords" content="java tutorials,java help,java articles,java, applet, web programming,java made
easy,learning java,
learn java,
java applet, live help, checkboxes, Checkbox, TextField,
double buffering">
<link rel=stylesheet href="/main.css" type="text/css">
<title>Free Java Help --- Articles --- Servlet How-To</title></head>
<body bgcolor="#ffffff">



<table cellspacing="0" cellpadding="0" frame="VOID" rules="NONE"><tr><td
width="148"><img
src="http://www.freejavahelp.com/images/freesmall.jpg" alt="Free Java
Help"></td><td width="100%">

<table
cellspacing="0" cellpadding="2" margin="0" width="100%" height="105">

<tr><td width="100%" height=15 bgcolor="#6e665c">
<SPAN class="smwh">

July 16 ,2002
</SPAN>
</td></tr>
<tr><td bgcolor="#d2cec4">
<center>
<!-- BEGIN RICH-MEDIA BURST! CODE --> 
<script language="JavaScript"> 
<!-- /* © 1997-2001 BURST! Media, LLC. All Rights Reserved.*/ 
var TheAdcode = 'ad8474a'; 
var bN = navigator.appName; 
var bV = parseInt(navigator.appVersion); 
var base='http://www.burstnet.com/'; 
var Tv=''; 
var agt=navigator.userAgent.toLowerCase(); 
if (bV>=4) 
  {ts=window.location.pathname+window.location.search; 
   i=0; Tv=0; while (i< ts.length) 
      { Tv=Tv+ts.charCodeAt(i); i=i+1; } Tv="/"+Tv;} 
  else   {Tv=escape(window.location.pathname); 
   if( Tv.charAt(0)!='/' ) Tv="/"+Tv; 
          else if (Tv.charAt(1)=="/")
Tv=""; 
  if( Tv.charAt(Tv.length-1) == "/") 
    Tv = Tv + "_";} 
if (bN=='Netscape'){ 
     if ((bV>=4)&&(agt.indexOf("mac")==-1))
{  document.write('<s'+'cript src="'+ 
      base+'cgi-bin/ads/'+TheAdcode+'.cgi/RETURN-CODE/JS' 
      +Tv+'">'); 
     document.write('</'+'script>');    
} 
     else if (bV>=3) {document.write('<'+'a href="'+base+'ads/'+ 
        TheAdcode+'-map.cgi'+Tv+'"target=_top>'); 
        document.write('<img src="' + base + 'cgi-bin/ads/' + 
        TheAdcode + '.cgi' + Tv + '" ismap width="468" height="60"' + 
       ' border="0" alt="Click Here"></a>');} 
 } 
if (bN=='Microsoft Internet Explorer') 
 document.write('<ifr'+'ame id="BURST" src="'+base+'cgi-bin/ads/'
+ 
  TheAdcode + '.cgi' + Tv + '/RETURN-CODE" width="468" height="60"' + 
  'marginwidth="0" marginheight="0" hspace="0" vspace="0" ' + 
  'frameborder="0" scrolling="no"></ifr'+'ame>'); 
// --> 
</script> 
<noscript><a href="http://www.burstnet.com/ads/ad8474a-map.cgi/ns" target="_top"> 
<img src="http://www.burstnet.com/cgi-bin/ads/ad8474a.cgi/ns" 
width="468" height="60" border="0" alt="Click Here"></a> 
</noscript> 
<!-- END BURST CODE --> 


</center>
</td></tr>
<tr><td width="100%" height=15 bgcolor="#6e665c">
<SPAN class="smwh">
<a href="http://www.freejavahelp.com/media.html"
class="smln">Advertise</a>&nbsp;|&nbsp;
<a href="http://www.freejavahelp.com/feedback.html" class="smln">Feedback</a>&nbsp;|&nbsp;
<a href="http://www.freejavahelp.com/ads.html" class="smln">Link To
Us</a>&nbsp;|&nbsp;
<a href="http://www.freejavahelp.com/legal.html"
class="smln">Legal</a>&nbsp;|&nbsp;
<a href="http://www.freejavahelp.com/links.html"
class="smln">Links</a>&nbsp;|&nbsp;
<a href="http://www.freejavahelp.com/glossary.html" class="smln">Glossary</a>
&nbsp;|&nbsp;
<a href="http://www.freejavahelp.com/privacy.html" class="smln">Privacy</a>
&nbsp;|&nbsp;
<a href="http://38.148.250.3/cgi-win/client.exe?Burst,welcome,ad8474a,2000" class="smln">BURST! Survey</a> 


</SPAN>

</td></tr>
</table>



</td>


</tr></table>


<table width="100%" cellspacing="0" cellpadding="0" margin=0 border=0>
<tr>
	<td valign="top">




<table cellspacing="2" cellpadding="2" margin=0 border=0 width="148">
<tr>
<td bgcolor="#968e83" height="15">
<center>

	 <center><a class="menubar"
href="http://www.neoprofile.com">NeoProfile</a>
</center>


<table width="118" cellspacing="0" cellpadding="2">
<tr>
	<td bgcolor="#aaa096">
	<SPAN class="smwh">
<center>NeoProfile is a new website by the makers of FreeJavaHelp. It enhances the capabilities
and powers of AOL Instant Messenger Profiles.</center>
</SPAN>
	</td>
</tr>

</table>



	 <center><a class="menubar"
href="http://www.freejavahelp.com/tutorial/index.html">Tutorials</a>
</center>


<table width="118" cellspacing="0" cellpadding="2">
<tr>
	<td bgcolor="#aaa096">
	<SPAN class="smwh">
<center>We provide detailed yet easy to understand Java and JavaScript
tutorials which will speed along your learning process.</center>
</SPAN>
	</td>
</tr>

</table>


	 <center><a class="menubar"
href="http://www.freejavahelp.com/articles/index.html">Articles</a>
</center>



<table width="118" cellspacing="0" cellpadding="2">
<tr>
	<td bgcolor="#aaa096">
	 <SPAN class="smwh">
<center>Our articles discuss common topics and questions about Java or JavaScript. Many
articles are written by the requests of users.</center>
</SPAN>
	</td>
</tr>

</table>



	 <center><a class="menubar"
href="http://www.freejavahelp.com/forums/forums.shtml">Forums</a>
</center>



<table width="118" cellspacing="0" cellpadding="2">
<tr>
	<td bgcolor="#aaa096">
	<SPAN class="smwh">
<center>Have a question which you need answered? Come to our forums and ask away! We'll answer
them to the best of our ability!</center>
</SPAN>
	</td>
</tr>

</table>



	 <center><a class="menubar"
href="http://www.freejavahelp.com/apps/index.html">Applets</a>
</center>


<table width="118" cellspacing="0" cellpadding="2">
<tr>
	<td bgcolor="#aaa096">
	 <SPAN class="smwh">
<center>The applets section contains a variety of interesting applets with source code for studying or your
personal use.</center>
</SPAN>
	</td>
</tr>

</table>

	 <center><a class="menubar"
href="http://www.freejavahelp.com/ezine/index.html">E-zine</a>
</center>


<table width="118" cellspacing="0" cellpadding="2">
<tr>
	<td bgcolor="#aaa096">
	 <SPAN class="smwh">
<center>Our e-zine section is where we post previous issues of The FreeJavaHelp Reporter for you to read.

</center>
</SPAN>
	</td>
</tr>

</table>

	 <center><a class="menubar"
href="http://www.freejavahelp.com/contribute/index.html">Contribute</a>
</center>

 <table width="118" cellspacing="0" cellpadding="2">
<tr>
	<td bgcolor="#aaa096">
	 <SPAN class="smwh">
<center>The contribute section allows you to submit articles, tutorials, or other content to be posted on
Free Java Help.

</center>
</SPAN>
	</td>
</tr>

</table>


<br>




</center>
</td></tr>

</table>	
	
</td>
	
<td valign="top" width="100%"><div align=right>

<table cellspacing="2" width="100%" cellpadding="2" border=0>	
<tr>
<td bgcolor="#6e665c">
<center><div class="menubar">Servlet How-To        </div></center>
</td>
</tr>
<tr>
<td bgcolor="#ffffff">
<SPAN Class="smbl">
<table border=0 cellspacing=1 cellpadding=0>
	<tr>
		<td align=center>
			<p><br><font face=Arial size=5><b>The Servlet How-To</b></font>
		</td>
	</tr>
	<tr>
		<td align=left>
			<br><p><font face=Verdana size=2>
			The Servlet API is a comphrehensive solution for all web application 
needs. The challenge is to use it effectively. The number of features are 
so vast that it will take some time before you know
			what is to be done in what kind of situation. This article aims to tell 
you just that. It based on the problems that I have experienced and some 
that I read about.<br>
			This document is for those who have a working knowledge of servlets, 
and want to fine tune their skills. I will be constantly updating this as 
I learn more... so keep watching. If you have something to
			add to this How-To mail me at vikramr@planetasia.com. Suggestions and 
corrections will be highly appreciated.<br><p>
		</td>
	</tr>
	<tr bgcolor=#3299CC>
		<td>
			<font face=Verdana size=3><b>1. Sending HTML Information</b></font>
		</td>
	</tr>
	<tr><td><br></td></tr>
	<tr>
		<td>
			<table BORDER=1 cellspacing=0 cellpadding=3 bordercolor=#000000 width=100%>
				<tr bgcolor=#C0D9D9>
					<td colspan=2>
						<font face=Verdana size=2><b>How to redirect a request?</b></font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>1.</font></td>
					<td>
						<font face=Verdana size=2>
						Set Status Code SC_MOVED_TEMPORARILY and set the Header field 'Location' 
to the new URL.<br>
						</font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>2.</font></td>
					<td>
						<font face=Verdana size=2>
						Use the convenience method <i>public void ServletResponse.sendRedirect 
(site) throws IOException</i>.
						</font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>3.</font></td>
					<td>
						<font face=Verdana size=2>
						Use client Pull with <i>public void HttpServletResponse.setHeader 
("Refresh","<aftertime>");</i>
						</font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>4.</font></td>
					<td>
						<font face=Verdana size=2>
						Use client Pull with <i>public void HttpServletResponse.setHeader 
("Refresh","<aftertime>; <URL>");</i>
						</font>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr><td><br></td></tr>
	<tr>
		<td>
			<table BORDER=1 cellspacing=0 cellpadding=3 bordercolor=#000000 width=100%>
				<tr bgcolor=#C0D9D9>
					<td colspan=2>
						<font face=Verdana size=2><b>How to report problem to the browser</b></font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>1.</font></td>
					<td>
						<font face=Verdana size=2>
						Set Status Code according to error<br>
						</font>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr><td><br><br></td></tr>
	<tr bgcolor=#3299CC>
		<td>
			<font face=Verdana size=3><b>2. Optimization of Servlets</b></font>
		</td>
	</tr>
	<tr><td><br></td></tr>	
	<tr>
		<td>
			<table BORDER=1 cellspacing=0 cellpadding=3 bordercolor=#000000 width=100%>
				<tr bgcolor=#C0D9D9>
					<td colspan=2>
						<font face=Verdana size=2><b>How to handle large HTML pages?</b></font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>1.</font></td>
					<td>
						<font face=Verdana size=2>
						Use StringBuffer class and store the whole page in it as a string. 
Set the content length of the response to the length of the buffer using 
<i>response.setContentLength()</i>. And send the page back using just one 
out.println() call.<br>
						</font>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr><td><br></td></tr>
	<tr>
		<td>
			<table BORDER=1 cellspacing=0 cellpadding=3 bordercolor=#000000 width=100%>
				<tr bgcolor=#C0D9D9>
					<td colspan=2>
						<font face=Verdana size=2><b>How to prevent caching on the client 
system?</b></font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>1.</font></td>
					<td>
						<font face=Verdana size=2>
						Use <i>res.setHeader("Expires","0")</i>. This will cause the browser 
to connect to the server every time you access the servlet and not give 
the page cached on an earlier request.<br>
						</font>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr><td><br></td></tr>	
	<tr>
		<td>
			<table BORDER=1 cellspacing=0 cellpadding=3 bordercolor=#000000 width=100%>
				<tr bgcolor=#C0D9D9>
					<td colspan=2>
						<font face=Verdana size=2><b>How to prevent caching at proxy servers?</b></font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>1.</font></td>
					<td>
						<font face=Verdana size=2>
						Use <i>res.setHeader("Cache-Control", "no-cache")</i><br>
						</font>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr><td><br></td></tr>	
	<tr>
		<td>
			<table BORDER=1 cellspacing=0 cellpadding=3 bordercolor=#000000 width=100%>
				<tr bgcolor=#C0D9D9>
					<td colspan=2>
						<font face=Verdana size=2><b>How to optimize proxy servers and browsers 
for caching?</b></font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>1.</font></td>
					<td>
						<font face=Verdana size=2>
						Use the <i>public long getLastModifed(HttpServletRequest)</i> method 
to return the last time the page was changed. The server checks this before 
it goes to the <i>doGet()</i> method. This is used only if the HTTP request 
has the If-Modified-Since header. This type of optimization reduces network 
load and speeds up downloads of HTML pages with relatively static content.<br>
						</font>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr><td><br><br></td></tr>	
	<tr bgcolor=#3299CC>
		<td>
			<font face=Verdana size=3><b>3. The Servlet Life Cycle</b></font>
		</td>
	</tr>
	<tr><td><br></td></tr>	
	<tr>
		<td>
			<table BORDER=1 cellspacing=0 cellpadding=3 bordercolor=#000000 width=100%>
				<tr bgcolor=#C0D9D9>
					<td colspan=2>
						<font face=Verdana size=2><b>Saving the state information</b></font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>1.</font></td>
					<td>
						<font face=Verdana size=2>
						Save the info in a file. Put this code inside the <i>destroy()</i> 
method. To retrieve the info, open the file and read info. Put this code 
in the <i>init()</i> method.<br>
						</font>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr><td><br></td></tr>	
	<tr>
		<td>
			<table BORDER=1 cellspacing=0 cellpadding=3 bordercolor=#000000 width=100%>
				<tr bgcolor=#C0D9D9>
					<td colspan=2>
						<font face=Verdana size=2><b>Initialization</b></font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>1.</font></td>
					<td>
						<font face=Verdana size=2>
						Always have super.init() as the first line of code if you are overriding 
the init().<br>
						</font>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr><td><br></td></tr>	
	<tr>
		<td>
			<table BORDER=1 cellspacing=0 cellpadding=3 bordercolor=#000000 width=100%>
				<tr bgcolor=#C0D9D9>
					<td colspan=2>
						<font face=Verdana size=2><b>How to save and restore information in 
a class?</b></font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>1.</font></td>
					<td>
						<font face=Verdana size=2>
						The class whose state has to be stored should implement the Serializable 
interface. In the destroy() method of the servlet, save the object into 
a file using the ObjectOutput Stream. And then in the init() method, restore 
the object using the ObjectInputStream.<br>
						</font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>2.</font></td>
					<td>
						<font face=Verdana size=2>
						For serializing classes with static variables, each of the static 
variables have to be serialized because static variables are accessible 
to all objects and are not considered as part of the state of a class.<br>
						</font>
					</td>
				</tr>				
			</table>
		</td>
	</tr>
	<tr><td><br><br></td></tr>	
	<tr bgcolor=#3299CC>
		<td>
			<font face=Verdana size=3><b>4. Handling errors and exceptions</b></font>
		</td>
	</tr>
	<tr><td><br></td></tr>
	<tr>
		<td>
			<table BORDER=1 cellspacing=0 cellpadding=3 bordercolor=#000000 width=100%>
				<tr bgcolor=#C0D9D9>
					<td colspan=2>
						<font face=Verdana size=2><b>How much to tell the client?</b></font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>1.</font></td>
					<td>
						<font face=Verdana size=2>
						Use <i>public void HttpServletResponse.sendError(HttpServletResponse.<error_code>)</i> 
in the catch block.<br>
						</font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>2.</font></td>
					<td>
						<font face=Verdana size=2>
						Use the <i>HttpServletResponse.setStatus(int)</i> with the 400 and 
500 series status codes and servlet should provide an appropriate explanation.<br>
						</font>
					</td>
				</tr>	
				<tr>
					<td width=5%><font face=Verdana size=2>2.</font></td>
					<td>
						<font face=Verdana size=2>
						In a development environment, a detailed stack trace for a thrown 
exception using <i>e.printStackTrace()</i> in the catch block.<br>
						</font>
					</td>
				</tr>				
			</table>
		</td>
	</tr>
	<tr><td><br></td></tr>
	<tr>
		<td>
			<table BORDER=1 cellspacing=0 cellpadding=3 bordercolor=#000000 width=100%>
				<tr bgcolor=#C0D9D9>
					<td colspan=2>
						<font face=Verdana size=2><b>How to record errors?</b></font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>1.</font></td>
					<td>
						<font face=Verdana size=2>
						Use <i>public void ServletContext.log(String msg)</i> or <i>public 
void ServletContext.log(Exception e, String msg)</i>. This will log the 
error or exception to a application server defined file.<br>
						</font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>2.</font></td>
					<td>
						<font face=Verdana size=2>
						Use your own methods to write a file.<br>
						</font>
					</td>
				</tr>	
			</table>
		</td>
	</tr>
	<tr><td><br></td></tr>	
	<tr>
		<td>
			<table BORDER=1 cellspacing=0 cellpadding=3 bordercolor=#000000 width=100%>
				<tr bgcolor=#C0D9D9>
					<td colspan=2>
						<font face=Verdana size=2><b>How handle user interruption of servlet 
execution?</b></font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>1.</font></td>
					<td>
						<font face=Verdana size=2>
						Add a finally block in the <i>doGet()</i> where all the resources 
being used are freed.<br>
						</font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>2.</font></td>
					<td>
						<font face=Verdana size=2>
						Long running servlets using PrintWriter should call <i>public boolean 
PrintWriter.checkError()</i> to see if there is an error writing the output. 
If false, the servlet should return.<br>
						</font>
					</td>
				</tr>	
			</table>
		</td>
	</tr>
	<tr><td><br><br></td></tr>	
	<tr bgcolor=#3299CC>
		<td>
			<font face=Verdana size=3><b>4. Session Tracking</b></font>
		</td>
	</tr>
	<tr><td><br></td></tr>
	<tr>
		<td>
			<table BORDER=1 cellspacing=0 cellpadding=3 bordercolor=#000000 width=100%>
				<tr bgcolor=#C0D9D9>
					<td colspan=2>
						<font face=Verdana size=2><b>How to maintain a session?</b></font>
					</td>
				</tr>
				<tr>
					<td width=5%><font face=Verdana size=2>1.</font></td>
					<td>
						<font face=Verdana size=2>
						The method <i>public HttpSession HttpServletRequest.getSession(boolean 
create)</i> must be called atleast once before output is written to the 
response.<br>
						</font>
					</td>
				</tr>
			</table>
		</td>
	</tr>
		
</table>


                  </span>
</td>
</tr>
</table>

</td><td valign="top" width="150">

<table cellspacing=2 cellpadding=3 border=0 width="100%">
<tr><td bgcolor="#6e665c" width="100%">
<span class="menubar" ><center>Email</center></span>
</td></tr>
<tr>
<td bgcolor="#aaa096"><small>
<br><center><form name="login_form"
action="http://services.freejavahelp.com/email/scripts/loginuser.pl"
method="post" target=_top>
<center><span class="smwh">Username</span></center><input type="text" name="loginName" size="12"
value=""><br>
<center><span class="smwh">Password</span></center><input type="password" name="user_pwd" size="12"
value=""><br><br>
<input type="submit" name="login"
value="Login">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</small><small><a
href="http://services.freejavahelp.com/email/scripts/useragreement.pl"
target=_top>sign up</a> </small>
</form>
</center>
</td>
</tr>
</table>
<table  width="150" cellspacing=2 cellpadding=3 border=0 width="100%">
<tr>
<td bgcolor="#6e665c" width="100%">
<center><span class="menubar">Search</span></center></td>
</tr>
<tr>

<td bgcolor="#aaa096" width="100%">
<center><br><span class="smwh"><small>
<form action="http://www.freejavahelp.com/search/search.cgi">
Search for:<br><input type=text size=7 name=Q><br>Search:<br><select
name=E>
<option value=1>Entire Document</option>
<option value=0>Title Only</option>
</select><br>Match:<br><select name=X>
<option value=0>Any Terms</option>
<option value=1>Exact Phrase</option>
</select><br><br><input type=submit value="  Search  ">
</form>
</small></span>
</center>
</td>

</td>
</table>




<table  width="150" cellspacing=2 cellpadding=3 border=0 width="100%">
<tr>
<td bgcolor="#6e665c" width="100%">
<center><span class="menubar">Partners</span></center></td>
</tr>
<tr>

<td bgcolor="#aaa096" width="100%">
<center>
<big><a href="http://www.neoprofile.com">NeoProfile</a></big><br>
<a href="http://www.webmasterlane.com">Webmaster Lane</a><br>
<a href="http://www.ivewon.com">Ivewon.com</a><br>
<a href="http://www.hitlerwaswrong.org">Hitler Was Wrong</a><br>
<a href="http://www.thatwasrandom.com">That was Random!</a>

</center>
</td>

</td>
<table width="150" cellspacing="2" cellpadding="3" margin="0" border="0">
<tr>
<td bgcolor="#6e665c"><div class="menubar"><center>FreeJavaHelp E-Zine</center></div></td>
</tr>
<tr>
<td bgcolor="#aaa096">
<div class="smbl">
<center><form action="/ezine/mail.cgi" method=post>
        <input type=text name="address" size=12>
        <input type=hidden name=action value=subscribe>

        <br><br>
        <input type="submit" value="Subscribe">
        </form><br>
</center>
</div>

</td>
</tr>

</table>

</table>
</td>
</tr>
</table>

 
 

<center><span class="smbl">&copy; 2000 FreeJavaHelp.com . All
Rights Reserved.</span></center>



</body>
</html>




