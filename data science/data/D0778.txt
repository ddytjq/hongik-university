ID=D0778
URL=http://www.javaworld.com/javaworld/jw-12-2001/jw-1228-velocity.html 
SIZE=44714
DATE=16/07/02
TIME=14:57:55
DATASET=Java
HTML=<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
    <head>
        <title> Start up the Velocity Template Engine</title>
<!-- ssilog 7814 -->
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
<meta name="keywords" content=" Velocity, template, Jakarta, Apache, Java, JSP, J2EE, XML, HTML, web, WWW, servlet, MVC">
<meta name="description" content="
The Velocity Template Engine lets you render data from within applications and servlets.  Primarily used to develop dynamic, servlet-based Websites, Velocity's clean separation of template and Java code makes it ideal for Model 2-style Model-View-Controller (MVC) Web development.  As a general template engine, Velocity suits many other purposes, such as code generation, XML generation and transformation, and textual stream processing. This article introduces the Velocity Template Language (VTL) and provides examples of how to use the Velocity engine, including how to generate Web content in a Java servlet environment. (3,000 words; December 28, 2001)
">
<meta name="date" content="2001-12-01">
<META NAME="DC.Date" CONTENT="2001-12-01">
<basefont face="verdana, arial, helvetica" size="3" />
<style type="text/css">
            code {font-size: 90%; font-family: monospace;}
            pre {font-size: 90%; font-family: monospace;}
            td {font-size: 90%;}
</style>
<script language="javascript">
<!--// IDG.net Scripts
            function mail2Friend () {
                window.parent.location = "/MailToFriend?url=" + escape(document.location);
            }

            function openBrWindow() {
                win=window.open("http://www.javaworld.com/channel_content/jw-story-feedback.shtml",'Feedback','width=600,height=330,toolbar=no,location=no,directories=no,menubar=no,scrollbars=yes,resizable=yes');
            }
            //-->
        </script>
    </head>
<body bgcolor="#ffffff" text="#000000" link="#990033" vlink="#990033" alink="#990033" topmargin="0" leftmargin="0" rightmargin="0" bottommargin="0" marginheight="0" marginwidth="0">
<table align="center" width="100%" cellspacing="0" cellpadding="0" border="0">
            <tr>
                <td colspan="2" width="186" bgcolor="#006699"><a href="http://www.javaworld.com"><img height=81 src="http://www.javaworld.com/images/top_jwlogo.gif" width=186 border=0 ></a></td>
                <td bgcolor="#cccccc" width="100%" align="middle" valign="center"><!-- START TOP 468x60 BANNER -->
<TABLE CELLPADDING="0" CELLSPACING="0" BORDER="0">
<TR>
<TD>
<FONT COLOR="#000000" SIZE="-2" FACE="Arial,Helvetica,Sans-serif">
Advertisement: Support JavaWorld, click here!</FONT><BR>
<NOLAYER>
<IFRAME SRC="http://ad.doubleclick.net/adi/idg.us.idgnet.javaworld/articles;pos=top;sz=468x60;tile=1;ord=583088?" width="468" height="60" frameborder="no" border="0" MARGINWIDTH="0" MARGINHEIGHT="0" SCROLLING="no">
<A HREF="http://ad.doubleclick.net/jump/idg.us.idgnet.javaworld/articles;abr=!ie;pos=top;sz=468x60;tile=1;ord=583088?"><IMG SRC="http://ad.doubleclick.net/ad/idg.us.idgnet.javaworld/articles;abr=!ie;pos=top;sz=468x60;tile=1;ord=583088?" border="0" height="60" width="468"></A>
</IFRAME>
</NOLAYER>
<ILAYER id="layer1" visibility="hidden" width=468 height=60></ILAYER>
</TD>
</TR>
</TABLE>
<!-- END TOP 468x60 BANNER --></td>
            </tr>
        </table>
        <table align="center" width="100%" cellspacing="0" cellpadding="0" border="0">
            <tr>
                <td bgcolor="#006699" width="160"><img height=8 src="http://www.javaworld.com/images/spacer.gif" width=160 border=0 ></td>
                <td width="26" valign="top" align="left" bgcolor="#ffffff"><img height=8 src="http://www.javaworld.com/images/c_whtbottom.gif" width=8 border=0 ></td>
                <td width="100%"><img height=1 src="http://www.javaworld.com/images/spacer.gif" width=8 border=0 ><IMG SRC="http://ad.doubleclick.net/ad/idg.pixel.global/idgpixel7.18.00;sz=1x1;ord=583088?" border=0 height="1" width="1"><IMG SRC="http://ad.doubleclick.net/ad/idg.pixel.usa.jw/usajw.081501;sz=1x1;ord=583088?" border=0 height="1" width="1"></td>
            </tr>
        </table>
        <table align="center" width="100%" cellspacing="0" cellpadding="0" border="0">
            <tr>
                <td bgcolor="#006699" width="160" align="middle" valign="center" nowrap><nobr><font face="Verdana, Arial, Sans-serif" color="#ffffff" size="2">December 2001</font></nobr><img height=1 src="http://www.javaworld.com/images/spacer.gif" width=160 border=0 ></td>
                <td width="8"><img height=1 src="http://www.javaworld.com/images/spacer.gif" width=8 border=0 ></td>
                <td bgcolor="#006699" width="8" valign="top"><img height=8 src="http://www.javaworld.com/images/c_bltlft.gif" width=8 border=0 ></td>
                <td bgcolor="#006699" width="100%" align="middle" valign="center">    <table width="100%" border="0" cellspacing="0" cellpadding="5">
        <tr>
            <td align="middle" bgcolor="#006699"><a href="http://www.javaworld.com"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1" color="#ffffff">HOME</font></a></td>
            <td align="middle" bgcolor="#006699"><a href="http://www.javaworld.com/features/index.shtml"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1" color="#ffffff">FEATURED TUTORIALS</font></a></td>
            <td align="middle" bgcolor="#006699"><a href="http://www.javaworld.com/columns/index.shtml"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1" color="#ffffff">COLUMNS</font></a></td>
            <td align="middle" bgcolor="#006699"><a href="http://www.javaworld.com/news-reviews/index.shtml"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1" color="#ffffff">NEWS & REVIEWS</font></a></td>
            <td align="middle" bgcolor="#006699"><a href="http://forums.idg.net/webx?13@@.ee6b802"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1" color="#ffffff">FORUM</font></a></td>
            <td align="middle" bgcolor="#006699"><a href="http://www.javaworld.com/resources/index.shtml"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1" color="#ffffff">JW RESOURCES</font></a></td>
            <td align="middle" bgcolor="#006699"><a href="http://www.javaworld.com/info/jw-about-index.shtml"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1" color="#ffffff">ABOUT JW</font></a></td>
        </tr>
    </table></td>
                <td bgcolor="#006699" width="8" align="right" valign="top"><img height=8 src="http://www.javaworld.com/images/c_bltrt.gif" width=8 border=0 ></td>
                <td width="8"><img height=1 src="http://www.javaworld.com/images/spacer.gif" width=8 border=0 ></td>
            </tr>
        </table>
        <table align="center" width="100%" cellspacing="0" cellpadding="0" border="0">
            <tr valign="top">
                <td bgcolor="#006699" width="160" align="middle" valign="top">
                    <table width="160" border="0" cellspacing="0" cellpadding="0" bgcolor="#006699" summary="">
                        <tr>
                            <td width="8"><img alt="" height="1" src="http://www.javaworld.com/images/spacer.gif" width="8" /></td>
                            <td align="center">
                                <form action="http://www.javaworld.com/isearch" method="GET" name="search">
                                    <img alt="" height="1" src="http://www.javaworld.com/images/rule_ltblue.gif" width="144" vspace="2" /><br /><br />
                                    <input type="text" name="qt" size="12" maxlength="2047" /><br />
                                    <input type="image" value="search" src="http://www.javaworld.com/images/button_blue.gif" border="0" width="97" height="18" alt="GO" /><br />
                                    <input type="hidden" name="site" value="javaworld"><br />
                                   <!-- <a href="http://www.google.com/"><img src="http://www.javaworld.com/images/google-power-fp.gif" width="108" height="45" border="0" alt="Google.com"></a>-->
                                    <input type="hidden" name="ms" value="1">
                                    <input type="hidden" name="tid" value="1">
                                    <input type="hidden" name="st" value="1">
                                    <input type="hidden" name="rf" value="0">
                                   
                                </form>
                            </td>
                            <td width="8"><img alt="" height="1" src="http://www.javaworld.com/images/spacer.gif" width="8" /></td>
                        </tr>
                        <tr>
                            <td width="8"><img height=1 alt="" src="http://www.javaworld.com/images/spacer.gif" width=8 ></td>
                            <td><img height=1 alt="" src="http://www.javaworld.com/images/rule_ltblue.gif" width=144 vspace=2 ><br>
                                <a href="http://www.javaworld.com/archives/index-year.html"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="2" color="#ffffff"><strong>ARCHIVE</strong></font></a><br>
                                <img height=1 alt="" src="http://www.javaworld.com/images/rule_ltblue.gif" width=144 vspace=2 ><br>
                                <strong><a href="http://www.javaworld.com/channel_content/jw-topical-index.shtml"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="2" color="#ffffff">TOPICAL INDEX</font></a></strong></font><br><table cellspacing="0" cellpadding="0" border="0" summary="">
                        <tr>
                            <td><img alt="" height="7" src="http://www.javaworld.com/images/arrow_closed.gif" width="8" border="0" /></td>
                            <td><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1"><strong><a  href="http://www.javaworld.com/channel_content/jw-core-index.shtml"><font color="#ffffff">Core Java</font></a></strong></font></td>
                        </tr>
                        <tr>
                            <td><img alt="" height="7" src="http://www.javaworld.com/images/arrow_closed.gif" width="8" border="0" /></td>
                            <td><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1"><strong><a href="http://www.javaworld.com/channel_content/jw-enterprise-index.shtml"><font color="#ffffff">Enterprise Java</font></a></strong></font></td>
                        </tr>
                        <tr>
                            <td><img alt="" height="7" src="http://www.javaworld.com/images/arrow_closed.gif" width="8" border="0" /></td>
                            <td><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1"><strong><a href="http://www.javaworld.com/channel_content/jw-micro-index.shtml"><font color="#ffffff">Micro Java</font></a></strong></font></td>
                        </tr>
                        <tr>
                            <td><img alt="" height="7" src="http://www.javaworld.com/images/arrow_closed.gif" width="8" border="0" /></td>
                            <td><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1"><strong><a href="http://www.javaworld.com/channel_content/jw-applied-index.shtml"><font color="#ffffff">Applied Java</font></a></strong></font></td>
                        </tr>
                        <tr>
                            <td><img alt="" height="7" src="http://www.javaworld.com/images/arrow_closed.gif" width="8" border="0" /></td>
                            <td><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1"><strong><a href="http://www.javaworld.com/channel_content/jw-community-index.shtml"><font color="#ffffff">Java Community</font></a></strong></font><br /></td>
                        </tr>
                    </table><img alt="" height="1" src="http://www.javaworld.com/images/rule_ltblue.gif" width="144" vspace="2" /><br /> <a href="http://www.javaworld.com/columns/jw-qna-index.shtml"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="2" color="#ffffff"><strong>JAVA Q&A INDEX</strong></font></a><br /><img alt="" height="1" src="http://www.javaworld.com/images/rule_ltblue.gif" width="144" vspace="2" /><br /> <a href="http://www.javaworld.com/columns/jw-tips-index.shtml"><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="2" color="#ffffff"><strong>JAVA TIPS INDEX</strong></font></a><br /> <img alt="" height="1" src="http://www.javaworld.com/images/rule_ltblue.gif" width="144" vspace="8" /><br /><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="2" color="#CCCCCC"><strong>JavaWorld Services</strong></font><br /><img alt="" height="4" src="http://www.javaworld.com/images/spacer.gif" width="1" border="0" /><table cellspacing="0" cellpadding="0" border="0" summary=""><tr><td><img alt="" height="7" src="http://www.javaworld.com/images/arrow_closed.gif" width="8" border="0" /><br /><img alt="" height="7" src="http://www.javaworld.com/images/spacer.gif" width="1" border="0" /></td><td><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1"><strong><a href="http://www.javaworld.com/subscribe"><font color="#ffffff">Free JavaWorld newsletters</font></a></strong></font></td></tr><tr><td><img alt="" height="7" src="http://www.javaworld.com/images/arrow_closed.gif" width="8" border="0" /><br /></td> <td><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1"><strong><a  href="http://javaworld.pricegrabber.com"><font color="#ffffff">ProductFinder </font></a></strong></font></td></tr><tr> <td><img alt="" height="7" src="http://www.javaworld.com/images/arrow_closed.gif" width="8" border="0" /><br /></td> <td><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1"><strong><a  href="http://www.javaworld.com/white-paper/index.shtml"><font color="#ffffff">White Paper Library</font></a></strong></font></td></tr>
</table>
<img alt="" height="1" src="http://www.javaworld.com/images/rule_ltblue.gif" width="144" vspace="8" /><br />
</td>
                            <td width="8"><img height=1 alt="" src="http://www.javaworld.com/images/spacer.gif" width=8 ></td>
                        </tr>
                        <tr valign="bottom">
                            <td width="8"><img height=1 alt="" src="http://www.javaworld.com/images/spacer.gif" width=8 ></td>
                            <td> </td>
                            <td width="8"><img height=8 alt="" src="http://www.javaworld.com/images/c_gryblbottom.gif" width=8 ></td>
                        </tr>
                        <tr>
                            <td width="8" bgcolor="#cccccc"> </td>
                            <td bgcolor="#cccccc"> </td>
                            <td width="8" bgcolor="#cccccc"> </td>
                        </tr>
                        <tr>
                       <td width="8" bgcolor="#cccccc"><img height=1 alt="" src="http://www.javaworld.com/images/spacer.gif" width=8 ></td>
                           <td align="middle" bgcolor="#cccccc"><!-- SKYSCRAPER AD START HERE -->
<NOLAYER>
<IFRAME SRC="http://ad.doubleclick.net/adi/idg.us.idgnet.javaworld/articles;pos=skyscraper;sz=120x600;tile=3;ord=583088?" width="120" height="600" frameborder="no" border="0" MARGINWIDTH="0" MARGINHEIGHT="0" SCROLLING="no">
<A HREF="http://ad.doubleclick.net/jump/idg.us.idgnet.javaworld/articles;abr=!ie;pos=skyscraper;sz=120x600;tile=3;ord=583088?"><IMG SRC="http://ad.doubleclick.net/ad/idg.us.idgnet.javaworld/articles;abr=!ie;skyscraper=med;sz=120x600;tile=3;ord=583088?" border=0 height="600" width="120"></A>
</IFRAME>
</NOLAYER>
<ILAYER id="layer3" visibility="hidden" width=120 height=600></ILAYER>
<!-- SKYSCRAPER AD ENDS HERE -->
</td>
                       <td width="8" bgcolor="#cccccc"><img height=8 alt="" src="http://www.javaworld.com/images/spacer.gif" width=8></td>
                        </tr>
                        <tr>
                            <td width="8" bgcolor="#cccccc"> </td>
                            <td bgcolor="#cccccc"> </td>
                            <td width="8" bgcolor="#cccccc"> </td>
                        </tr>
                        <tr valign="top">
                            <td width="8"><img height=1 alt="" src="http://www.javaworld.com/images/spacer.gif" width=8 ></td>
                            <td> </td>
                            <td width="8"><img height=8 alt="" src="http://www.javaworld.com/images/c_grybltop.gif" width=8 ></td>
                        </tr>
                    </table>
                    <img height=8 src="http://www.javaworld.com/images/spacer.gif" width=160 border=0 ></td>
                    <td width="8"><img height=1 alt="" src="http://www.javaworld.com/images/spacer.gif" width=8 ></td>
                <td width="100%">
                    <!-- ## MAIN CONTENT STARTS HERE ### -->
                    <font face="verdana, arial, helvetica" size="3">
                        <strong></strong>
                        <p>
                            <h1 align="CENTER"> Start up the Velocity Template Engine</h1>
                            <h3 align="CENTER"> Generate Web content with Java-based, open source Velocity </h3>
                        </p>
                        <!--<BLOCKQUOTE><STRONG>Summary</STRONG><BR>-->
                        <BLOCKQUOTE>
<STRONG>Summary</STRONG><BR>

The Velocity Template Engine lets you render data from within applications and servlets.  Primarily used to develop dynamic, servlet-based Websites, Velocity's clean separation of template and Java code makes it ideal for Model 2-style Model-View-Controller (MVC) Web development.  As a general template engine, Velocity suits many other purposes, such as code generation, XML generation and transformation, and textual stream processing. This article introduces the Velocity Template Language (VTL) and provides examples of how to use the Velocity engine, including how to generate Web content in a Java servlet environment. (<em>3,000 words;</em> <strong>December 28, 2001</strong>)
</BLOCKQUOTE>
                        <!--</BLOCKQUOTE>-->
                        <a href="http://www.javaworld.com/feedback" target="Feedback"><STRONG>By  Geir Magnusson Jr.</STRONG></a>
                        <p><img src="http://www.javaworld.com/images/rule_ltblue.gif" width="100%" height="2"><br />
                           <img src="http://www.javaworld.com/images/jw-print-icon.gif" width="16" height="15" border="0" alt="Printer-friendly version" vspace="4" align="absmiddle" />
                           <a href="/javaworld/jw-12-2001/jw-1228-velocity_p.html">Printer-friendly version</a> | <img src="http://www.javaworld.com/images/jw-email-icon.gif" width="20" height="15" border="0" alt="Send this article to a friend"> <a href="javascript:mail2Friend()">Mail this to a friend</a></p>
                        <p><br /></p>
                         <font size=-1>  Page 1 of 3</font>
                        <p><!-- START BIG AD (336x280) -->
<table align="right" border="0" cellpadding="0" cellspacing="0"><tr valign="bottom" align="center"><td><font face="verdana, arial, geneva, sans-serif" color="#999999" size="-2">Advertisement</font></td></tr><tr><td><table border=1 bordercolor="#cccccc" cellspacing="5" cellpadding="0"><tr><td>
<NOLAYER>
<IFRAME SRC="http://ad.doubleclick.net/adi/idg.us.idgnet.javaworld/articles;pos=rectangle;sz=336x280;tile=5;ord=583088" width="336" height="280" frameborder="no" border="0" MARGINWIDTH="0" MARGINHEIGHT="0" SCROLLING="no">
<A HREF="http://ad.doubleclick.net/jump/idg.us.idgnet.javaworld/articles;abr=!ie;pos=rectangle;sz=336x280;tile=5;ord=583088"><IMG SRC="http://ad.doubleclick.net/ad/idg.us.idgnet.javaworld/articles;abr=!ie;pos=rectangle;sz=336x280;tile=5;ord=583088" border=0 height="280" width="336"></A>
</IFRAME>
</NOLAYER>
<ILAYER id="layer5" visibility="hidden" width=336 height=280></ILAYER>
</td></tr></table></td></tr></table>
<!-- END BIG AD (336x280) --></p>
                        <p> <P>
<img align="left" width="29" height="29" src="/javaworld/abcs/V.gif" alt="V">elocity is an open source templating tool developed by an international volunteer community and hosted by the Apache Software Foundation's Jakarta Project.  At the <a href="#resources">Jakarta Velocity Project</a> Website, where you can download the freely available source code, a thriving and growing community of users is ready to answer questions and offer solutions to common templating problems.  Velocity was inspired by the pioneering WebMacro project, a work for which we in the Velocity community are grateful.
<P>
In this article, I present a short primer on the Velocity Template Engine and its template language, Velocity Template Language (VTL). I also demonstrate how to use Velocity through several examples.<P><FONT SIZE="+1"><STRONG> Hello World, of course </STRONG></FONT><BR>
No explanation of a programming-related subject would be complete without a Hello World example. Any application using Velocity requires two parts.  The first is the template, which in this example is a file called <code>helloworld.vm</code>: <CODE><P>
<BR>

&nbsp;&nbsp;Hello $name!&nbsp;&nbsp;Welcome to Velocity!<BR>
</CODE><P>
The second is a corresponding Java program called <code>HelloWorld.java</code>: <CODE><P>
<BR>

import java.io.StringWriter;<BR>
<BR>
import org.apache.velocity.app.VelocityEngine;<BR>
import org.apache.velocity.Template;<BR>
import org.apache.velocity.VelocityContext;<BR>
<BR>

<BR>

public class HelloWorld<BR>

{<BR>

&nbsp;&nbsp;&nbsp;&nbsp;public static void main( String[] args )<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throws Exception<BR>

&nbsp;&nbsp;&nbsp;&nbsp;{<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;&nbsp;first, get and initialize an engine&nbsp;&nbsp;*/<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VelocityEngine ve = new VelocityEngine();<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ve.init();<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;&nbsp;next, get the Template&nbsp;&nbsp;*/<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Template t = ve.getTemplate( "helloworld.vm" );<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;&nbsp;create a context and add data */<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VelocityContext context = new VelocityContext();<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context.put("name", "World");<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* now render the template into a StringWriter */<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringWriter writer = new StringWriter();<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t.merge( context, writer );<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* show the World */<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println( writer.toString() );&nbsp;&nbsp;&nbsp;&nbsp; <BR>

&nbsp;&nbsp;&nbsp;&nbsp;}<BR>

}<BR>
</CODE><P>
Now, when you compile and run this program, you will see the output: <CODE><P>
<BR>

&nbsp;&nbsp;Hello World!&nbsp;&nbsp;Welcome to Velocity!<BR>
</CODE><P>
This is a trivial example, but it contains the crucial pieces to give you an idea of what Velocity templating is all about. <P><FONT SIZE="+1"><STRONG> Why should I use it? </STRONG></FONT><BR>
Designed as an easy-to-use general templating tool, Velocity is useful in any Java application area that requires data formatting and presentation.  You should use Velocity for the following reasons: <P>
<ul><li>It adapts to many application areas<li>It offers a simple, clear syntax for the template designer<li>It offers a simple programming model for the developer<li>Because templates and code are separate, you can develop and maintain them independently<li>The Velocity engine easily integrates into any Java application environment, especially servlets<li> Velocity enables templates to access any public method of data objects in the context</ul> <P>
The last point is important -- it means that you can reuse your existing classes.  So, objects you want to use in your templates don't need to be structured in a certain way, like JavaBeans, or implement special I/O or lifecycle modes, such as JSP (JavaServer Pages) taglibs.  The only requirement is that methods are public.  You will see more of this when we cover the template language in detail. <P>
One of Velocity's strengths is that it strongly enforces a separation of functional responsibility within the application.  It does this by limiting template access to objects that the application code specifically makes available.  This means that designers can focus exclusively on the data presentation (the view), and the application programmer can focus on the application control (the controller) and the business logic and data management (the model) in Model-View-Controller (MVC) development. MVC is a well-accepted development pattern that simplifies both development and ongoing maintenance of sophisticated applications. <P><FONT SIZE="+1"><STRONG> Where do I use it? </STRONG></FONT><BR>
Velocity is successfully used in: <P>
<ul><li>Servlet-based Web applications<li>Java and SQL code generation<li>XML processing and transformation<li>Text processing, such as RTF file generation</ul> <P>
Velocity is most commonly used as a rendering engine for Java servlet-based Web application development, in place of or in conjunction with JSPs and other rendering technologies. Besides the easy, maintainable template syntax, Velocity is used in Web development because its template language can manipulate and present the data, not create data.  This discourages <em>programming</em> within the templates.  This is a good thing; it keeps your Java code's business and application logic where they belong.
Velocity is well suited to J2EE (Java 2 Platform, Enterprise Edition) Web development because the platform accommodates output technologies other than JSP.  While JSP is included in the J2EE specification, J2EE doesn't require its use. <P><FONT SIZE="+1"><STRONG> How does it work? </STRONG></FONT><BR>
You use the same general process to create a Velocity-based application as you would any application.  Let's consider a more interesting example than the Hello World application above.  Suppose you operate a pet store and wish to generate an email blast to announce a sale. First, you must design the email and then develop the template and code based on that design. <P><STRONG> Design-time considerations </STRONG><BR>
You need to consider three elements for your design: <P>
<ul><li>Which data to include in the email<li>What form the data elements should take (for example, as <code>List</code>, <code>Map</code>, or <code>String</code>)<li>What to call those data elements</ul> <P>
For this example, let's suppose you decide on three pets for sale, each with a different advertised price.  You decide to use a map to associate each pet name and its price, and then store all three maps in a list.  You call this list <code>petList</code>, the pet name <code>name</code>, and the price as <code>price</code> in the map. Now that you have identified the relevant data, its representation, and naming criteria, you can write the code and the template's design. <P><STRONG> Write the code and template design </STRONG><BR>
Once you agree on data specifics, Velocity lets you write the code and design the template in parallel. The designer integrates the data into the nondata presentation content (like images, text, and so on) in the template. In this case, we simply write in the email body: <CODE><P>
<BR>

&nbsp;&nbsp;$petList.size() Pets on Sale!<BR>

<BR>

&nbsp;&nbsp;We are proud to offer these fine pets<BR>

&nbsp;&nbsp;at these amazing prices.&nbsp;&nbsp;This month only,<BR>

&nbsp;&nbsp;choose from:<BR>

<BR>

&nbsp;&nbsp;#foreach( $pet in $petList )<BR>

&nbsp;&nbsp;&nbsp;&nbsp;$pet.name for only $pet.price<BR>

&nbsp;&nbsp;#end<BR>

<BR>

&nbsp;&nbsp; Call Today!<P>
</CODE><P>
As the programmer, you must: <P>
<ul><li>Retrieve all data from the data sources -- a database via JDBC (Java Database Connectivity), a file, or just something calculated<li>Put that data into the context using the agreed-upon names<li>Render the template with the context to produce output</ul> <P>
You may recall from the Hello World example that I referred to class <code>VelocityContext</code> as the <em>context</em>.  Modeled after a <code>java.util.Map</code>, the context is an object that holds data provided by the application or servlet that the template accesses. 
<P>
For this example, we get all the data from our data sources (in this case, we hardwire it into the code), organize it, and add it to the context: <CODE><P>
<BR>

&nbsp;&nbsp; /* create our list of maps&nbsp;&nbsp;*/<BR>

<BR>

&nbsp;&nbsp; ArrayList list = new ArrayList();<BR>

&nbsp;&nbsp; Map map = new HashMap();<BR>

<BR>

&nbsp;&nbsp; map.put("name", "horse");<BR>

&nbsp;&nbsp; map.put("price", "$100.00");<BR>

&nbsp;&nbsp; list.add( map );<BR>
<BR>

&nbsp;&nbsp; map = new HashMap();<BR>

&nbsp;&nbsp; map.put("name", "dog");<BR>

&nbsp;&nbsp; map.put("price", "$59.99");<BR>

&nbsp;&nbsp; list.add( map );<BR>

<BR>

&nbsp;&nbsp; map = new HashMap();<BR>

&nbsp;&nbsp; map.put("name", "bear");<BR>

&nbsp;&nbsp; map.put("price", "$3.99");<BR>

&nbsp;&nbsp; list.add( map );<BR>

<BR>

&nbsp;&nbsp; /*&nbsp;&nbsp;add that list to a VelocityContext&nbsp;&nbsp;*/<BR>

<BR>

&nbsp;&nbsp; VelocityContext context = new VelocityContext();<BR>

<BR>

&nbsp;&nbsp; context.put("petList", list);<P>
</CODE><P>
It appears we really want to get rid of those bears! <P>
Now, with the data organized and placed in the context and the template ready, we can render the template against the context.  Here is the code: <CODE><P>
<BR>

import java.io.StringWriter;<BR>

import java.util.List;<BR>

import java.util.ArrayList;<BR>

import java.util.Map;<BR>

import java.util.HashMap;<BR>

<BR>

import org.apache.velocity.Template;<BR>

import org.apache.velocity.VelocityContext;<BR>

import org.apache.velocity.app.VelocityEngine;<BR>

<BR>

public class PetStoreEmail<BR>

{<BR>

&nbsp;&nbsp;&nbsp;&nbsp;public static void main( String[] args )<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throws Exception<BR>

&nbsp;&nbsp;&nbsp;&nbsp;{<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;&nbsp;first, get and initialize an engine&nbsp;&nbsp;*/<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VelocityEngine ve = new VelocityEngine();<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ve.init();<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;&nbsp;organize our data&nbsp;&nbsp;*/<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ArrayList list = new ArrayList();<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map map = new HashMap();<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put("name", "horse");<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put("price", "$100.00");<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.add( map );<BR>
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map = new HashMap();<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put("name", "dog");<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put("price", "$59.99");<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.add( map );<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map = new HashMap();<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put("name", "bear");<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put("price", "$3.99");<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.add( map );<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;&nbsp;add that list to a VelocityContext&nbsp;&nbsp;*/<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VelocityContext context = new VelocityContext();<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context.put("petList", list);<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;&nbsp;get the Template&nbsp;&nbsp;*/<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Template t = ve.getTemplate( "petstoreemail.vm" );<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;&nbsp;now render the template into a Writer&nbsp;&nbsp;*/<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringWriter writer = new StringWriter();<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t.merge( context, writer );<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* use the output in your email body */<BR>
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sendEmail( writer.toString() );<BR>

&nbsp;&nbsp;&nbsp;&nbsp;}<BR>

}<P>
</CODE><P>
This complete program generates your email body.  Because Velocity renders templates into a <code>Writer</code>, you can easily manage the output.  In this case, the rendered output went into a <code>String</code> via the <code>StringWriter</code>, but it could easily have gone to a file, a browser, or a BLOB (binary large object) in a database.  This is one reason why Velocity integrates so easily into Java applications. <P>
The program output (your email body) looks like this: <P>
<CODE><P>
<BR>

&nbsp;&nbsp;3 Pets on Sale!<BR>

<BR>

&nbsp;&nbsp;We are proud to offer these fine pets<BR>

&nbsp;&nbsp;at these amazing prices.&nbsp;&nbsp;This month only,<BR>

&nbsp;&nbsp;choose from:<BR>

<BR>

&nbsp;&nbsp;&nbsp;&nbsp;horse for only $100.00<BR>

&nbsp;&nbsp;&nbsp;&nbsp;dog for only $59.99<BR>

&nbsp;&nbsp;&nbsp;&nbsp;bear for only $3.99<BR>

<BR>

&nbsp;&nbsp; Call Today!<BR>
</CODE><P>
<!-- break --><br /></p>
                        <font size=-1><a href=jw-1228-velocity-p2.html>Next page ></a><br>Page 1  Start up the Velocity Template Engine<br>Page 2 <a href=jw-1228-velocity-p2.html>Velocity Template Language </a><br>Page 3 <a href=jw-1228-velocity-p3.html>Same data, different templates</a><br> </font>
                        <p>
                            <img src="http://www.javaworld.com/images/jw-print-icon.gif" width="16" height="15" border="0" alt="Printer-friendly version" vspace="4" align="absmiddle" />
                            <a href="/javaworld/jw-12-2001/jw-1228-velocity_p.html">Printer-friendly version</a> | <img src="http://www.javaworld.com/images/jw-email-icon.gif" width="20" height="15" border="0" alt="Send this article to a friend"> <a href="javascript:mail2Friend()">Mail this to a friend</a></p>
                        <p><!-- REPLACE BIO --><br /></p>
                        <p><ul><A NAME="resources"></a><STRONG>Resources</STRONG>
<BR>

<LI>Download all code and templates: <BR><A HREF="http://www.javaworld.com/javaworld/jw-12-2001/velocity/velocity.zip">http://www.javaworld.com/javaworld/jw-12-2001/velocity/velocity.zip
</A><BR>


<LI>The Jakarta Velocity Project, home of the distribution, documentation, and other Velocity resources: <BR><A HREF="http://jakarta.apache.org/velocity/">http://jakarta.apache.org/velocity/
</A><BR>


<LI>Products and projects that use Velocity: <BR><A HREF="http://jakarta.apache.org/velocity/powered.html ">http://jakarta.apache.org/velocity/powered.html 
</A><BR>

<p>
<strong>Velocity articles:</strong><br>
<p>
<LI>"Best Practices: The Velocity Template Engine, Release 1.0," Laura Geele Wang (<em>Dot-Com Builder,</em> March 2001): <BR><A HREF="http://dcb.sun.com/practices/profiles/velocity.jsp">http://dcb.sun.com/practices/profiles/velocity.jsp
</A><BR>


<LI>In "Getting Up to Speed with Velocity" (<em>Webtechniques</em>), Jim Jagielski notes that Velocity has "a language definition with a feature set that fits comfortably on a standard business card" -- a nice article on Velocity: <BR><A HREF="http://www.webtechniques.com/archives/2001/09/serv/">http://www.webtechniques.com/archives/2001/09/serv/
</A><BR>


<LI>In "Take the Fast Track to Text Generation" (<em>JavaWorld,</em> July 2001), Leon Messerschmidt looks at using Velocity for text generation:  <BR><A HREF="http://www.javaworld.com/javaworld/jw-07-2001/jw-0727-templates.html">http://www.javaworld.com/javaworld/jw-07-2001/jw-0727-templates.html
</A><BR>


<LI>In "JSP" (<em>Java Developer's Journal</em>), Jon Stevens writes a detailed comparison of Velocity and JSPs: <BR><A HREF="http://www.sys-con.com/java/articlea.cfm?id=1080">http://www.sys-con.com/java/articlea.cfm?id=1080
</A><BR>

<p>
<strong>Velocity-supported Web application frameworks:</strong><br>
<p>
<LI>Jakarta Turbine: <BR><A HREF="http://jakarta.apache.org/turbine/">http://jakarta.apache.org/turbine/
</A><BR>


<LI>Melati: <BR><A HREF="http://www.melati.org/">http://www.melati.org/
</A><BR>


<LI>Maverick: <BR><A HREF="http://mav.sourceforge.net/">http://mav.sourceforge.net/
</A><BR>


<LI>WebWork: <BR><A HREF="http://sourceforge.net/projects/webwork/">http://sourceforge.net/projects/webwork/
</A><BR>


<LI>JPublish: <BR><A HREF="http://jpublish.sourceforge.net/">http://jpublish.sourceforge.net/
</A><BR>


<LI>Niggle: <BR><A HREF="http://www.niggle.org/">http://www.niggle.org/
</A><BR>

<p>
<strong>More <em>JavaWorld</em> resources:</strong><br>
<p>
<LI>Browse <em>JavaWorld'</em>s <strong>Servlet</strong> Index: <BR><A HREF="http://www.javaworld.com/channel_content/jw-servlets-index.shtml">http://www.javaworld.com/channel_content/jw-servlets-index.shtml
</A><BR>


<LI>Browse <em>JavaWorld'</em>s <strong>JavaServer Pages</strong> Index: <BR><A HREF="http://www.javaworld.com/channel_content/jw-jsp-index.shtml">http://www.javaworld.com/channel_content/jw-jsp-index.shtml
</A><BR>


<LI>Browse <em>JavaWorld'</em>s <strong>Java 2 Enterprise Edition (J2EE)</strong> Index: <BR><A HREF="http://www.javaworld.com/channel_content/jw-j2ee-index.shtml">http://www.javaworld.com/channel_content/jw-j2ee-index.shtml
</A><BR>


<LI>Subscribe to <em>JavaWorld'</em>s free weekly email newsletters: <BR><A HREF="http://www.javaworld.com/subscribe ">http://www.javaworld.com/subscribe 
</A><BR>


<LI>Speak out in <em>JavaWorld'</em>s Java Forum: <BR><A HREF="http://forums.idg.net/webx?13@@.ee6b802">http://forums.idg.net/webx?13@@.ee6b802
</A><BR>


<li>You'll find a wealth of IT-related articles from our sister publications at <a href="http://www.idg.net/jump?id=1100">IDG.net</a></li>
</ul><br /></p>
                        <!-- REPLACE SIDEBAR -->
                    </font>
                    <!-- ## MAIN CONTENT ENDS HERE ### -->
                </td>
                <td width="8"><img height=1 src="http://www.javaworld.com/images/spacer.gif" width=8 border=0 ></td>
            </tr>
        </table>
        <table align="center" width="100%" cellspacing="0" cellpadding="0" border="0">
            <tr>
                <td bgcolor="#006699" width="168" nowrap><nobr><img src="http://www.javaworld.com/images/spacer.gif" width=160 height=8 border=0 ><img src="http://www.javaworld.com/images/c_bllftbottom.gif" width=8 height=8 border=0 ></nobr></td>
                <td width="100%"><img src="http://www.javaworld.com/images/spacer.gif" width=1 height=1 border=0 ></td>
                <td width="8"><img src="http://www.javaworld.com/images/spacer.gif" width=8 height=8 border=0 ></td>
            </tr>
        </table>
        <table align="center" width="100%" cellspacing="0" cellpadding="0" border="0">
            <tr>
                <td width="186" bgcolor="#006699" align="middle"><nobr><font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="2"></font></nobr><a href="http://www.javaworld.com"><img height=81 src="http://www.javaworld.com/images/top_jwlogo.gif" width=186 border=0></a></td>
                <td bgcolor="#cccccc" width="8" valign="bottom"><img height=8 src="http://www.javaworld.com/images/c_blgrylftbottom.gif" width=8 border=0 ></td>
                <td bgcolor="#cccccc" width="100%" align="middle" valign="center"><!-- BOTTOM 468x60 AD STARTS HERE -->
<TABLE CELLPADDING="0" CELLSPACING="0" BORDER="0">
<TR>
<TD>
<FONT COLOR="#000000" SIZE="-2" FACE="Arial,Helvetica,Sans-serif">
Advertisement: Support JavaWorld, click here!</FONT><BR>
<NOLAYER>
<IFRAME SRC="http://ad.doubleclick.net/adi/idg.us.idgnet.javaworld/articles;pos=bottom;sz=468x60;tile=4;ord=583088?" width="468" height="60" frameborder="no" border="0" MARGINWIDTH="0" MARGINHEIGHT="0" SCROLLING="no">
<A HREF="http://ad.doubleclick.net/jump/idg.us.idgnet.javaworld/articles;abr=!ie;pos=bottom;sz=468x60;tile=4;ord=583088?"><IMG SRC="http://ad.doubleclick.net/ad/idg.us.idgnet.javaworld/articles;abr=!ie;pos=bottom;sz=468x60;tile=4;ord=583088?" border=0 height="60" width="468"></A>
</IFRAME>
</NOLAYER>
<ILAYER id="layer4" visibility="hidden" width=468 height=60></ILAYER>
</TD>
</TR>
</TABLE>
<!-- BOTTOM 468x60 AD ENDS HERE -->
</td>
                <td width="8"><img height=8 src="http://www.javaworld.com/images/spacer.gif" width=8 border=0 ></td>
            </tr>
        </table>
        <table bgcolor="#006699" align="center" width="100%" cellspacing="0" cellpadding="0" border="0">
            <tr>
                <td width="100%" align="middle" valign="center">    <font face="Verdana,Geneva,Arial,Helvetica,sans-serif" size="1" color="#ffffff">
        <p>
            <br />
            <a href="http://www.javaworld.com"><font color="#ffffff">HOME</font></a>&nbsp;|&nbsp;
            <a href="http://www.javaworld.com/features/index.shtml"><font color="#ffffff">FEATURED TUTORIALS</font></a>&nbsp;|&nbsp;
            <a href="http://www.javaworld.com/columns/index.shtml"><font color="#ffffff">COLUMNS</font></a>&nbsp;|&nbsp;
            <a href="http://www.javaworld.com/news-reviews/index.shtml"><font color="#ffffff">NEWS & REVIEWS</font></a>&nbsp;|&nbsp;
            <a href="http://forums.idg.net/webx?13@@.ee6b802"><font color="#ffffff">FORUM</font></a>&nbsp;|&nbsp;
            <a href="http://www.javaworld.com/resources/index.shtml"><font color="#ffffff">JW RESOURCES</font></a>&nbsp;|&nbsp;
            <a href="http://www.javaworld.com/info/jw-about-index.shtml"><font color="#ffffff">ABOUT JW</font></a>&nbsp;|&nbsp;
            <a href="http://www.javaworld.com/feedback"><font color="#ffffff">FEEDBACK</font></a>
        </p>
        <p>

            <a href="http://www.javaworld.com/javaworld/common/jw-copyright.html"><font color="#ffffff">Copyright © 2002</font></a> JavaWorld.com, an IDG Communications company
        </p>
    </font>
</td>
                <td bgcolor="#ffffff" width="8"><img height=8 src="http://www.javaworld.com/images/spacer.gif" width=8 border=0 ></td>
            </tr>
            <tr>
                <td width="100%" align="right" valign="top"><img height=8 src="http://www.javaworld.com/images/c_blrtbottom.gif" width=8 border=0 ></td>
                <td bgcolor="#ffffff" width="8"><img height=8 src="http://www.javaworld.com/images/spacer.gif" width=8 border=0 ></td>
            </tr>
        </table>
        <!--TOP_BANNER-->
<LAYER SRC="http://ad.doubleclick.net/adl/idg.us.idgnet.javaworld/articles;pos=top;sz=468x60;tile=1;ord=583088?" width=468 height=60 visibility="hidden" onLoad="moveToAbsolute(layer1.pageX,layer1.pageY);clip.height=60;clip.width=468;visibility='show';">
</LAYER>

<!--125x125-->
<LAYER SRC="http://ad.doubleclick.net/adl/idg.us.idgnet.javaworld/articles;pos=med;sz=125x125;tile=2;ord=583088?" width=125 height=125 visibility="hidden" onLoad="moveToAbsolute(layer2.pageX,layer2.pageY);clip.height=125;clip.width=125;visibility='show';">
</LAYER>

<!--SKYSCRAPER-->
<LAYER SRC="http://ad.doubleclick.net/adl/idg.us.idgnet.javaworld/articles;pos=skyscraper;sz=120x600;tile=3;ord=583088?" width=120 height=600 visibility="hidden" onLoad="moveToAbsolute(layer3.pageX,layer3.pageY);clip.height=600;clip.width=120;visibility='show';">
</LAYER>

<!--BOTTOM_BANNER-->
<LAYER SRC="http://ad.doubleclick.net/adl/idg.us.idgnet.javaworld/articles;pos=bottom;sz=468x60;tile=4;ord=583088?" width=468 height=60 visibility="hidden" onLoad="moveToAbsolute(layer4.pageX,layer4.pageY);clip.height=60;clip.width=468;visibility='show';">
</LAYER>

<!--Big AD-->
<LAYER SRC="http://ad.doubleclick.net/adl/idg.us.idgnet.javaworld/articles;pos=rectangle;sz=336x280;tile=5;ord=583088" width=336 height=280 visibility="hidden" onLoad="moveToAbsolute(layer5.pageX,layer5.pageY);clip.height=280;clip.width=336;visibility='show';">
</LAYER>
    </body>
<!-- stories1 -->
<!-- DOCID 778455 -->
</html>

